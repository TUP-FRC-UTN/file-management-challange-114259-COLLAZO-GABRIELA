<div >
  <h2>Nuevo Archivo</h2>
  <br>
  <div>
    <form #form="ngForm" class="row g-3" (ngSubmit)="save(form)">
      <div class="col-md-4">
        <label for="validationServer01" class="form-label">Nombre</label>
        <input #name="ngModel"
        [ngClass]="{'is-invalid': name.invalid  && (name.dirty || name.touched),'is-valid': name.valid }"
        type="text" class="form-control" name="nombre" [(ngModel)]="file.name" required >
    @if(name.invalid && (name.dirty || name.touched)){
    @if(name.getError('required')) {
    <div class="text-danger">El nombre es obligatorio</div>
    }}
      </div>
      <div class="col-md-4">
          <label for="validationServer01" class="form-label">Fecha</label>
          <input #date="ngModel"
          [ngClass]="{'is-invalid': date.invalid  && (date.dirty || date.touched),'is-valid': date.valid }"
         type="date" class="form-control" name="date" [(ngModel)]="file.creation" required >
      @if(date.invalid && (date.dirty || date.touched)){
      @if(name.getError('required')) {
      <div class="text-danger">La fecha es obligatoria</div>
      }}
        </div>
  
      <div class="col-md-3">
        <label for="validationServer04" class="form-label">Tipo de Archivo</label>
        <select class="form-select" name="type" [(ngModel)]="file.type">
          @for(item of listType ; track $index){
          <option [value]="item">{{item.viewValue}}</option>
          }
      </select>
        <div id="validationServer04Feedback" class="invalid-feedback">
          Please select a valid state.
        </div>
      </div>
  <!--     <div class="col-md-4">
          <label for="validationServer04" class="form-label">Due単os</label>
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
              Seleccionar Due単os
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              @for(item of listType ; track $index){
                
              
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" [value]="item.value" (change)="onCheckboxChange($event, item.value)" [checked]="isChecked(item.value)">
                  <label class="form-check-label">
                    {{ item.viewValue }}
                  </label>
                </div>
             
          }
            </ul>
          </div>
        </div> -->
        
        <div class="col-md-4">
          <label for="validationServer04" class="form-label">Due単os</label>
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
              Seleccionar Due単os
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <li class="list-group">
                  @for(item of listOwners ; track $index){
                  <input
                    class="form-check-input me-1"
                    type="checkbox"
                    [value]="item.name"
                    [id]="item.name"
                    (change)="onCheckboxChange($event,item)"
                    [checked]="isChecked(item)"
                  />
                  <label class="form-check-label" [for]="item.name">
                    {{ item.name  }}
                  </label>
              }
              </li>
            </ul>
          </div>
        </div>
        
    
      <div class="col-12">
        <button class="btn btn-primary" type="submit">Submit form</button>
      </div>
    </form>
  </div>
  
</div>
